# Express Stack Builder

Express middleware management for complex projects.

[![NPM version](http://img.shields.io/npm/v/express-stack-builder.svg?style=flat-square)](https://www.npmjs.org/package/express-stack-builder)
[![Build Status](http://img.shields.io/travis/goodeggs/express-stack-builder.svg?style=flat-square)](https://travis-ci.org/goodeggs/express-stack-builder)
[![MIT License](http://img.shields.io/badge/license-MIT-blue.svg?style=flat-square)](https://github.com/goodeggs/express-stack-builder/blob/master/LICENSE.md)

## Usage

```
npm install express-stack-builder
```

### logger-plugin.js
```javascript
module.exports = function (builder) {
  // depends on stats-plugin
  builder.namespace('logger-plugin', ['stats-plugin'])
    .beforeAll.use(function(req, res, next) {
      req.logger = function() {
        req.stats('foo');
      };
      next();
    });
};
```

### stats-plugin.js
```javascript
module.exports = function (builder) {
  builder.namespace('stats-plugin')
    .beforeAll.use(function(req, res, next) {
      req.stats = function() { // do something cool };
      next();
    });
};
```

### app.js
```javascript
var builder = require('express-stack-builder');
var express = require('express');
require('logger-plugin')(builder);
require('stats-plugin')(builder); // NOTE: order does not matter
var app = express();
builder.configure(app, function() {
  // all routes will be inserted in an order respecting the dependency tree
  // defined in your namespace calls.

  // beforeAll
  // before
  // app
  // put your own app routes here
  app.get('/', function(req, res) { res.send 'hello world' });
  // after
  // afterAll
});
app.listen(3000);
```

## Contributing

Please follow our [Code of Conduct](https://github.com/goodeggs/express-stack-builder/blob/master/CODE_OF_CONDUCT.md)
when contributing to this project.

```
$ git clone https://github.com/goodeggs/express-stack-builder && cd express-stack-builder
$ npm install
$ npm test
```

_Module scaffold generated by [generator-goodeggs-npm](https://github.com/goodeggs/generator-goodeggs-npm)._
